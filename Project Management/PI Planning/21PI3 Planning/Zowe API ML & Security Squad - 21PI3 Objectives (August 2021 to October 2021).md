# Zowe API ML & Security Squad - 21PI3 Objectives (August 2021 to October 2021)


## Containerize Zowe - API ML Objectives

* [Containerize Zowe (API ML part) #1648](https://github.com/zowe/zowe-install-packaging/issues/1648)  
Support the Zowe containerization objective for 21PI3 by completing the remaining work for the API ML. Ensure the images produced by API ML satisfy the needs of the general Zowe images so that our tooling can work with them. 

in support of [Containerise Zowe #793](https://github.com/zowe/zowe-install-packaging/issues/793)

[Create APIML component images #2240](https://github.com/zowe/zowe-install-packaging/issues/2240)  
[Spike: investigate methods to improve component registration in Kubernetes #2244](https://github.com/zowe/zowe-install-packaging/issues/2244)


## Password Expire Warning & Token Refresh via SAF

* [Password Expire Warning & Token Refresh via SAF #1601](https://github.com/zowe/api-layer/issues/1601)
With API ML using SAF as the authentication provider a REST API supports the change of password.  

API ML Squad Plan:  
Expand the range of error conditions returned to include the following:
- Password expiration warning to validated/logged-on user in order to avoid a user locking out their mainframe account with too many invalid attempts
- Client must be able to refresh a 'soon to expire' token while user is logged on in order to avoid an actively engaged user being kicked out of a session


## Zowe API ML to adopt and surface ESM's consolidated SAF Identity tokens

* [Zowe API ML to adopt and surface ESM's consolidated SAF Identity tokens #1390](https://github.com/zowe/api-layer/issues/1390)
The API ML is now enabled to open access to Zowe Conformant APIs using SAF Identity JWTs that are issued, validated, and managed directly by z/OS (ESM SAF).

Current Zowe Token Providers:
- API ML generated JWT, Wrapped LTPA Token generated by z/OSMF
- z/OSMF generated liberty JWT
- API ML generated JWT on SAF direct validated credentials  

This enhancement will lead to Zowe API ML adopting SAF identity tokens as an additional method.


## Dynamic Compression for Components

* [Dynamic Compression for Components #1511](https://github.com/zowe/api-layer/issues/1511)
Add a path for ZSS, via API ML, to compress response before sending it to end-user.

API ML Squad Plan:  
New component level flag to instruct API ML to buffer response from ZSS & it can perform any compression supported by modern browser on received response.


## Caching API - POC of Redis - On-platform

* [HA: Caching API - POC of Redis - On-platform #1192](https://github.com/zowe/api-layer/issues/1192)
Validate whether the existing Redis solution (v5) can be used by the Caching API as an alternative on-Z storage option to VSAM. 

API ML Squad Plan:  
A PoC that verifies if the Redis option is viable.  
Performance comparison with VSAM.


## Improve testing on & off platform

* [Improve testing on & off platform #1341](https://github.com/zowe/api-layer/issues/1341)
Enhance and add functional tests for the Catalog, Discovery Service and Caching Service. 

API ML Squad Plan:  
We are currently either not testing the full functionality of services in separation or within the integration tests. Therefore we are missing some pieces such as tests of configuration from the code coverage. In a similar way as with the gateway tests create a separate package for functional tests, which starts the whole application and tests the full behavior of the app without the need to start all the interdependent services.


## Zowe API ML Metrics dashboard MVP

* [Metrics Dashboard for ML Services #820](https://github.com/zowe/api-layer/issues/820)
Allow Tyler, the Zowe API ML administator, to track the health and performance of the API ML.
An initial Metrics Service to include basic monitoring information, relying heavily on pre-configuration given by Netflix Hystrix and Turbine.

API ML Squad Plan:  
Continue supporting our mentee Saurabh as he builds out an mvp of the metrics service. 


## Simplify onboarding of the services to the API ML

* [Simplify onboarding of the services to the API ML #1592](https://github.com/zowe/api-layer/issues/1592)
The onboarding of services to the API Mediation Layer is a manual, time consuming effort. There are many minor ways how to get it wrong and limited verification is available. This objective seeks to provide an intuitive and easy onboarding path that automates input where possible.

API ML Squad Plan:  
The API Catalog will include a wizard to guide the user through a service onboarding procedure and based on the input provided it will generate the required and valid metadata.


## Zowe / api-layer backlog management

* [Focus on priority / high impact issues in Github](https://github.com/zowe/api-layer/labels/21PI3)
